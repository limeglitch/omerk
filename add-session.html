<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
Â Â <meta charset="UTF-8" />
Â Â <title>Ø¥Ø¶Ø§ÙØ© Ø¬Ù„Ø³Ø©</title>
Â Â <script type="module">
Â Â Â Â import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
Â Â Â Â import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";
Â Â Â Â import { firebaseConfig } from "./firebase-config.js";

Â Â Â Â const app = initializeApp(firebaseConfig);
Â Â Â Â const db = getFirestore(app);

Â Â Â Â const form = document.getElementById("sessionForm");

Â Â Â Â form.addEventListener("submit", async (e) => {
Â Â Â Â Â Â e.preventDefault();

Â Â Â Â Â Â const caseTitle = form.caseTitle.value.trim();
Â Â Â Â Â Â const date = form.date.value.trim();
Â Â Â Â Â Â const description = form.description.value.trim();

Â Â Â Â Â Â const officeId = localStorage.getItem("officeId");
Â Â Â Â Â Â if (!officeId) {
Â Â Â Â Â Â Â Â alert("ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­. Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨.");
Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â }

Â Â Â Â Â Â try {
Â Â Â Â Â Â Â Â await addDoc(collection(db, "sessions"), {
Â Â Â Â Â Â Â Â Â Â caseTitle,
Â Â Â Â Â Â Â Â Â Â date,
Â Â Â Â Â Â Â Â Â Â description,
Â Â Â Â Â Â Â Â Â Â officeId
Â Â Â Â Â Â Â Â });

Â Â Â Â Â Â Â Â alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ù„Ø³Ø© Ø¨Ù†Ø¬Ø§Ø­.");
Â Â Â Â Â Â Â Â form.reset();
Â Â Â Â Â Â } catch (err) {
Â Â Â Â Â Â Â Â console.error("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø¶Ø§ÙØ©:", err);
Â Â Â Â Â Â Â Â alert("ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ù„Ø³Ø©.");
Â Â Â Â Â Â }
Â Â Â Â });
Â Â </script>
Â Â <style>
Â Â Â Â body {
Â Â Â Â Â Â font-family: 'Cairo', sans-serif;
Â Â Â Â Â Â background: #2c3e50;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â padding: 30px;
Â Â Â Â Â Â text-align: center;
Â Â Â Â }
Â Â Â Â h2 {
Â Â Â Â Â Â font-size: 26px;
Â Â Â Â Â Â margin-bottom: 20px;
Â Â Â Â }
Â Â Â Â form {
Â Â Â Â Â Â background: #34495e;
Â Â Â Â Â Â padding: 20px;
Â Â Â Â Â Â border-radius: 10px;
Â Â Â Â Â Â width: 80%;
Â Â Â Â Â Â margin: auto;
Â Â Â Â }
Â Â Â Â input, textarea {
Â Â Â Â Â Â width: 90%;
Â Â Â Â Â Â padding: 10px;
Â Â Â Â Â Â margin: 10px 0;
Â Â Â Â Â Â border: none;
Â Â Â Â Â Â border-radius: 6px;
Â Â Â Â }
Â Â Â Â button {
Â Â Â Â Â Â padding: 12px 20px;
Â Â Â Â Â Â background: #27ae60;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â border: none;
Â Â Â Â Â Â border-radius: 6px;
Â Â Â Â Â Â cursor: pointer;
Â Â Â Â }
Â Â Â Â a {
Â Â Â Â Â Â display: inline-block;
Â Â Â Â Â Â margin-top: 20px;
Â Â Â Â Â Â text-decoration: none;
Â Â Â Â Â Â background: #e67e22;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â padding: 10px 18px;
Â Â Â Â Â Â border-radius: 6px;
Â Â Â Â }
Â Â </style>
</head>
<body>
Â Â <h2>â• Ø¥Ø¶Ø§ÙØ© Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©</h2>
Â Â <form id="sessionForm">
Â Â Â Â <input type="text" name="caseTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø¶ÙŠØ©" required />
Â Â Â Â <input type="date" name="date" required />
Â Â Â Â <textarea name="description" placeholder="ÙˆØµÙ Ø§Ù„Ø¬Ù„Ø³Ø©" rows="4"></textarea>
Â Â Â Â <button type="submit">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ù„Ø³Ø©</button>
Â Â </form>
Â Â <a href="lawyer.html">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø©</a>
</body>
</html>
