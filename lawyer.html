<!-- lawyer.html -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
Â Â <meta charset="UTF-8">
Â Â <title>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø­Ø§Ù…ÙŠ</title>
Â Â <script type="module">
Â Â Â Â import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
Â Â Â Â import { getFirestore, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";
Â Â Â Â import { firebaseConfig } from "./firebase-config.js";

Â Â Â Â const app = initializeApp(firebaseConfig);
Â Â Â Â const db = getFirestore(app);

Â Â Â Â const lawyerName = localStorage.getItem("lawyerName"); // Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø§Ù…ÙŠ Ù…Ø­ÙÙˆØ¸ Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„

Â Â Â Â async function loadCases() {
Â Â Â Â Â Â const caseBox = document.getElementById("caseBox");
Â Â Â Â Â Â caseBox.innerHTML = "Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§...";

Â Â Â Â Â Â try {
Â Â Â Â Â Â Â Â const q = query(collection(db, "cases"), where("assignedLawyer", "==", lawyerName));
Â Â Â Â Â Â Â Â const snapshot = await getDocs(q);

Â Â Â Â Â Â Â Â if (snapshot.empty) {
Â Â Â Â Â Â Â Â Â Â caseBox.innerHTML = "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø¶Ø§ÙŠØ§ Ù…Ø®ØµØµØ© Ù„Ùƒ Ø­Ø§Ù„ÙŠØ§Ù‹.</p>";
Â Â Â Â Â Â Â Â Â Â return;
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â caseBox.innerHTML = "";
Â Â Â Â Â Â Â Â snapshot.forEach(doc => {
Â Â Â Â Â Â Â Â Â Â const data = doc.data();
Â Â Â Â Â Â Â Â Â Â const div = document.createElement("div");
Â Â Â Â Â Â Â Â Â Â div.className = "case";
Â Â Â Â Â Â Â Â Â Â div.innerHTML = `
Â Â Â Â Â Â Â Â Â Â Â Â <h3>Ø§Ù„Ù‚Ø¶ÙŠØ©: ${data.title}</h3>
Â Â Â Â Â Â Â Â Â Â Â Â <p><strong>Ø§Ù„Ù†ÙˆØ¹:</strong> ${data.type}</p>
Â Â Â Â Â Â Â Â Â Â Â Â <p><strong>Ø§Ù„ÙˆØµÙ:</strong> ${data.description}</p>
Â Â Â Â Â Â Â Â Â Â Â Â <p><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> ${data.status}</p>
Â Â Â Â Â Â Â Â Â Â Â Â <hr />
Â Â Â Â Â Â Â Â Â Â `;
Â Â Â Â Â Â Â Â Â Â caseBox.appendChild(div);
Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â } catch (e) {
Â Â Â Â Â Â Â Â caseBox.innerHTML = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§.";
Â Â Â Â Â Â Â Â console.error(e);
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â loadCases();
Â Â </script>

Â Â <style>
Â Â Â Â body {
Â Â Â Â Â Â font-family: 'Cairo', sans-serif;
Â Â Â Â Â Â background: #1e272e;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â padding: 20px;
Â Â Â Â Â Â text-align: center;
Â Â Â Â }

Â Â Â Â h2 {
Â Â Â Â Â Â color: #f1c40f;
Â Â Â Â Â Â margin-bottom: 30px;
Â Â Â Â }

Â Â Â Â .case {
Â Â Â Â Â Â background: #34495e;
Â Â Â Â Â Â padding: 15px;
Â Â Â Â Â Â border-radius: 10px;
Â Â Â Â Â Â margin-bottom: 20px;
Â Â Â Â Â Â text-align: right;
Â Â Â Â }

Â Â Â Â a {
Â Â Â Â Â Â display: inline-block;
Â Â Â Â Â Â margin-top: 20px;
Â Â Â Â Â Â background: #e67e22;
Â Â Â Â Â Â padding: 10px 15px;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â text-decoration: none;
Â Â Â Â Â Â border-radius: 6px;
Â Â Â Â }
Â Â </style>
</head>
<body>
Â Â <h2>ğŸ“ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ùƒ</h2>
Â Â <div id="caseBox">...</div>

Â Â <a href="sessions.html">ğŸ“… Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ù„Ø³Ø§Øª</a>
Â Â <a href="index.html">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
</body>
</html>
