<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>مكتب المحاماة</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";const firebaseConfig = {
  apiKey: "AIzaSyDxwgtbrA2RVCwEwbn5_FDRJ20cN-IYAl0",
  authDomain: "cif225.firebaseapp.com",
  projectId: "cif225",
  storageBucket: "cif225.firebasestorage.app",
  messagingSenderId: "852933662256",
  appId: "1:852933662256:web:e9ba1b9911f3b2e1ed3ff5",
  measurementId: "G-J9WTSQ00YL"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth();
const db = getFirestore(app);

const welcome = document.getElementById("welcome");
const adminSection = document.getElementById("adminSection");
const lawyerSection = document.getElementById("lawyerSection");

onAuthStateChanged(auth, async (user) => {
  if (!user) {
    window.location.href = "index.html";
    return;
  }

  welcome.textContent = `مرحبًا بك في مكتبك، ${user.email}`;

  const userDoc = await getDoc(doc(db, "users", user.uid));
  if (!userDoc.exists()) {
    alert("لم يتم العثور على بيانات الحساب.");
    return;
  }

  const role = userDoc.data().role;

  if (role === "admin") {
    adminSection.style.display = "block";
    lawyerSection.style.display = "none";
  } else {
    lawyerSection.style.display = "block";
    adminSection.style.display = "none";
  }
});

document.getElementById("logoutBtn").onclick = () => signOut(auth).then(() => location.href = "index.html");

  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');body {
  font-family: 'Cairo', sans-serif;
  background: linear-gradient(to right, #2c3e50, #3498db);
  padding: 30px;
  text-align: center;
  color: white;
}
h2 {
  color: #fff;
  font-size: 28px;
  margin-bottom: 30px;
}
.btn {
  display: block;
  padding: 15px;
  margin: 10px auto;
  font-size: 18px;
  border: none;
  border-radius: 10px;
  background: #ffffff;
  color: #2c3e50;
  width: 80%;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
.btn:hover {
  background: #f1f1f1;
}
#logoutBtn {
  background: #e74c3c;
  color: white;
}
#logoutBtn:hover {
  background: #c0392b;
}
.section {
  margin-top: 20px;
}
.section-title {
  font-size: 22px;
  margin-top: 30px;
  color: #ecf0f1;
  border-bottom: 1px solid rgba(255,255,255,0.2);
  padding-bottom: 10px;
}
footer {
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid rgba(255,255,255,0.2);
  font-size: 14px;
  color: #ccc;
}

  </style>
</head>
<body>
  <h2 id="welcome">جارٍ التحقق...</h2>  <div class="section" id="adminSection" style="display: none">
    <div class="section-title">الأدمن</div>
    <button class="btn" onclick="location.href='admin.html'">لوحة تحكم الأدمن</button>
    <button class="btn">إدارة الموظفين</button>
    <button class="btn">إدارة القضايا</button>
    <button class="btn">تقارير المكتب</button>
  </div>  <div class="section" id="lawyerSection" style="display: none">
    <div class="section-title">الموظفين (محامين / سكرتارية)</div>
    <button class="btn" onclick="location.href='lawyer.html'">لوحة المحامي / السكرتير</button>
    <button class="btn">عرض القضايا المكلف بها</button>
    <button class="btn">إضافة تقرير جلسة</button>
    <button class="btn">أرشيف القضايا</button>
  </div><button id="logoutBtn" class="btn">🚪 تسجيل الخروج</button>

  <footer>
    برعاية محمد منطاوي • Developed by <strong>Lime Glitch</strong>
  </footer>
</body>
</html>
